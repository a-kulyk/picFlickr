"use strict";!function(){function e(e,t,r){e.state("home",{url:"/",templateUrl:"templates/main.html",controller:"MainController",controllerAs:"main"}).state("home.photo",{url:"/photo/:id",templateUrl:"templates/main.html",controller:"MainController",controllerAs:"main"}),r.html5Mode({enabled:!0,requireBase:!1}),r.hashPrefix("!")}angular.module("picFlickr",["ui.router","ngAnimate","ngResource","ui.bootstrap"]).constant("myConfig",{API_KEY:"b2d2abbb64d86c5552a676795a58ae5c",secret:"76778ce756ff9293",base_url:"https://api.flickr.com/services/rest/",perPage:30,one:1,three:3,zero:0}).config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}();
"use strict";!function(){function e(e,n,o,t){function d(d){var a,c,i,l;a=angular.element('<span id="ngClipboardCopyId">'+d+"</span>"),c=o.find("body").eq(t.zero),c.append(e(a)(n)),i=angular.element(document.getElementById("ngClipboardCopyId")),l=document.createRange(),l.selectNode(i[t.zero]),window.getSelection().removeAllRanges(),window.getSelection().addRange(l),document.execCommand("copy"),window.getSelection().removeAllRanges(),a.remove()}return{toClipboard:d}}angular.module("picFlickr").factory("ngClipboard",e),e.$inject=["$compile","$rootScope","$document","myConfig"]}();
"use strict";!function(){function e(e,r,t){function n(r,n){var o={api_key:t.API_KEY,per_page:t.perPage,format:"json",nojsoncallback:t.one,text:r,sort:"relevance",page:n&&n>t.zero?n:t.one,method:r&&r.length>t.zero?"flickr.photos.search":"flickr.photos.getRecent"};return e({method:"GET",url:t.base_url,params:o}).then(function(e){return e.data})}return{search:n}}angular.module("picFlickr").factory("FlickrService",e),e.$inject=["$http","$resource","myConfig"]}();
"use strict";
"use strict";!function(){function e(e,o,n,t,r,a,p,c){function h(e,o){if(a.log(e),"undefined"==typeof o||d.page!==o)return d.loading=!0,d.showGallery=!1,r.search(e,o).then(function(e){a.log(e),d.photos=e.photos.photo,d.page=e.photos.page,d.pages=e.photos.pages,u(),d.loading=!1})}function i(e){"undefined"!=typeof d.currentIndex&&(d.photos[d.currentIndex].highlight=!1),angular.forEach(d.photos,function(o,n){if(o.id===e)return d.currentIndex=parseInt(n,10),d.currentPhoto=o,d.photos[d.currentIndex].highlight=!0,void(d.currentPhotoSrc="https://farm"+d.currentPhoto.farm+".static.flickr.com/"+d.currentPhoto.server+"/"+d.currentPhoto.id+"_"+d.currentPhoto.secret+"_z.jpg")}),d.showGallery=!0}function u(){var e;for(d.pageNav=[],d.page>c.one&&d.pageNav.push({text:"<< Back",number:d.page-c.one}),e=c.one;e<=d.pages;e++)e===d.page?d.pageNav.push({text:d.page,number:d.page,disabled:!0}):e>=d.page-c.three&&e<=d.page+c.three&&d.pageNav.push({text:e,number:e});d.page<d.pages&&d.pageNav.push({text:"Next >>",number:d.page+c.one})}function g(){d.currentIndex===d.photos.length-c.one?h(d.photoSearch,d.page+c.one).then(function(){i(d.photos[c.zero].id)}):i(d.photos[d.currentIndex+c.one].id)}function s(){if(d.currentIndex===c.zero){if(!(d.page>c.one))return;h(d.photoSearch,d.page-c.one).then(function(){i(d.photos[d.photos.length-c.one].id)})}else i(d.photos[d.currentIndex-c.one].id)}function l(){p.toClipboard(d.currentPhotoSrc)}function f(){d.showGallery=!1}var d=this;d.search=h,d.openPhoto=i,d.next=g,d.previous=s,d.copyLink=l,d.close=f,h()}angular.module("picFlickr").controller("MainController",e),e.$inject=["$scope","$location","$anchorScroll","$q","FlickrService","$log","ngClipboard","myConfig"]}();